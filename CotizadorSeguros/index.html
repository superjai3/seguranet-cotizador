<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cotizador de Autos</title>
    <!-- Rutas relativas a la ubicación del archivo index.html -->
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
    <!-- Ícono de Home más estilizado (Font Awesome) en la parte superior derecha -->
    <a href="https://localhost:44395/Home/Index"
        style="position: absolute; top: 10px; right: 10px; font-size: 30px; color: #4B5563; text-decoration: none;"
        title="Ir al inicio">
        <i class="fas fa-home-lg-alt"></i>
    </a>


    <div class="container" id="formulario">
        <header>
            <h1>Cotizador Automotor</h1>
        </header>



        <!-- SECCIÓN DATOS DEL CLIENTE -->
        <section id="client-data">
            <h2>Datos del Asegurado</h2>
            <form id="client-form" class="form-section">
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="nombre" required>
                <label for="apellido">Apellido:</label>
                <input type="text" id="apellido" name="apellido" required>
                <label for="dni">DNI:</label>
                <input type="text" id="dni" name="dni" required>
                <label for="fecha-nacimiento">Fecha de Nacimiento:</label>
                <input type="date" id="fechaNacimiento" name="fecha-nacimiento" required>
                <label for="domicilio">Domicilio:</label>
                <input type="text" id="domicilio" name="domicilio" required>
                <label for="codigo-postal">Código Postal:</label>
                <input type="text" id="codigoPostal" name="codigo-postal" required>
                <label for="telefono">Teléfono:</label>
                <input type="tel" id="telefono" name="telefono" required>
                <label for="mail">Mail:</label>
                <input type="email" id="mail" name="mail" required>
            </form>
        </section>
        <br>









        <!-- SECCIÓN DATOS DEL AUTO -->
        <section id="vehicle-data">
            <h2>Datos del Vehículo</h2>
            <!-- Sección de Patente del Auto -->
            <div class="input-group">
                <label for="licensePlate">Patente del Auto:</label>
                <input type="text" id="licensePlate" placeholder="Ej: AAA111, AA111AA, 101AAA111, 101AA111AA o E/T">
                <small id="licensePlateError" class="error-message" style="color: red; display: none;">
                    Formato de patente incorrecto.
                </small>
            </div>

            <div class="input-group">
                <label for="year">Selecciona el Año:</label>
                <select id="year">
                    <option value="">Selecciona un año</option>
                </select>
            </div>

            <div class="input-group">
                <label for="brand">Selecciona la Marca:</label>
                <select id="brand" disabled>
                    <option value="">Selecciona una marca</option>
                </select>
            </div>

            <div class="input-group">
                <label for="model">Selecciona el Modelo:</label>
                <select id="model" disabled>
                    <option value="">Selecciona un modelo</option>
                </select>
            </div>

            <div class="input-group">
                <label for="version">Selecciona la Versión:</label>
                <select id="version" disabled>
                    <option value="">Selecciona una versión</option>
                </select>
                <div>
                    <span id="msgNoVersions" class="d-none text-danger">No se encontraron versiones para el modelo
                        seleccionado</span>
                </div>
            </div>

            <div class="input-group">
                <label for="sumaAsegurada">Suma Asegurada:</label>
                <input type="text" id="sumaAsegurada" readonly placeholder="Calculada automáticamente">
            </div>

            <!-- Precio Base sin Adicionales -->
            <div id="priceDisplay" class="price-display">
                Prima Técnica: $0.00
            </div>

        </section>
        <br>














        <!-- SECCIÓN DATOS DE LOS ADICIONALES -->
        <section>
            <h2>Adicionales</h2>

            <div class="input-group" id="isNewContainer" style="display: none;">
                <label for="isNew">¿Es 0KM?</label>
                <select id="isNewSelect">
                    <option value="yes">Sí</option>
                    <option value="no">No</option>
                </select>
            </div>

            <div class="input-group">
                <label for="gnc">¿Tiene equipo de GNC?</label>
                <select id="gnc">
                    <option value="yes">Sí</option>
                    <option value="no">No</option>
                </select>
            </div>

            <div class="input-group">
                <label for="tracking">¿Tiene equipo de Rastreo?</label>
                <select id="tracking">
                    <option value="yes">Sí</option>
                    <option value="no">No</option>
                </select>
            </div>

            <div class="input-group">
                <label for="adjustmentClause">Cláusula de Ajuste deseada:</label>
                <select id="adjustmentClause">
                    <option value="1">15%</option>
                    <option value="2">20%</option>
                    <option value="3">30%</option>
                    <option value="4">40%</option>
                    <option value="5">50%</option>
                </select>
            </div>

            <div class="input-group">
                <label for="vehicleUse">Uso del vehículo:</label>
                <select id="vehicleUse">
                    <option value="personal">Uso Particular</option>
                    <option value="commercial">Uso Comercial</option>
                </select>
            </div>

            <!-- Display de los precios de cada plan -->
            <div id="coverageDisplay">
                <p id="planA_Price"><strong>Plan A (Solo RC):</strong> $0.00</p>
                <p id="planB_Price"><strong>Plan B (Todo Total):</strong> $0.00</p>
                <p id="planC_Price"><strong>Plan C (Terceros Completo):</strong> $0.00</p>
                <p id="planD_Price"><strong>Plan D (Todo Riesgo):</strong> $0.00</p>
            </div>

            <br>

            <div class="input-group">
                <label for="coverageType">Cobertura que desea contratar:</label>
                <select id="coverageType">
                    <option value="planA">Solo RC (Cobertura A)</option>
                    <option value="planB">Todo Total (Cobertura B)</option>
                    <option value="planC">Terceros Completo (Cobertura C)</option>
                    <option value="planD">Todo Riesgo (Cobertura D)</option>
                </select>
            </div>

            <!-- Precio Base con Adicionales
            <div id="finalPriceDisplay" class="finalPriceDisplay">
                Precio Base con Adicionales: $0.00
            </div>-->


            <div id="finalPriceDisplay" class="finalPriceDisplay">
                Prima Final
            </div>

        </section>

        <br>














        <!-- SECCIÓN DEL VALOR DEL SEGURO-->
        <section>
            <h2>Valor Final del Seguro</h2>

            <!--PRIMA FINAL-->
            <div class="prima-final">
                <span class="valores-final-seguro">Prima Final: <span id="primaFinal">$0.00</span> </span>
            </div>

            <!--Impuestos-->
            <div class="iva">
                <span class="valores-final-seguro">Impuesto IVA: <span id="iva">$0.00</span></span>
            </div>

            <!--PREMIO-->
            <div class="premio">
                <span class="valores-final-seguro">Premio Final: <span id="premio">$0.00</span></span>
            </div>

            <br>
            <br>

            <!-- Vigencia del Seguro -->
            <div class="input-group">
                <label for="priceOptions">Selecciona el tipo de contratación:</label>
                <select id="priceOptions">
                    <option value="">Seleccione una opción</option>
                    <option value="monthly">Mensual</option>
                    <option value="semiAnnual">Semestral</option>
                    <option value="annual">Anual</option>
                </select>
            </div>

            <!-- Método de Pago -->
            <div class="input-group">
                <label for="payOptions">Seleccione un tipo de Método de Pago:</label>
                <select id="payOptions">
                    <option value="">Seleccione una opción</option>
                    <option value="Efectivo">Efectivo</option>
                    <option value="TDC">Tarjeta de Crédito</option>
                    <option value="D.A.">Débito Automático</option>
                </select>
            </div>

            <!--COMISIÓN DEL BROKER-->

            <!--PRIMA FINAL-->
            <div id="comisionBroker" class="comision-broker" style="display: none;">
                <h2>Comision del Broker:</h2>
            </div>

        </section>

        <br>















        <!-- SECCIÓN FOOT-->
        <section>

            <!--Volver a Cotizar-->
            <button id="clearAll" class="styled-button clearAll"
                data-tooltip="Limpiar para realizar una nueva cotización" onclick="limpiarDatos()">Volver a
                Cotizar</button>

            <!--Guardar Presupuesto-->
            <button id="saveButton" class="styled-button" data-tooltip="Ver el presupuesto actual">Ver
                Resumen</button>

            <!--Imprimir Presupuesto-->
            <button id="printButton" class="styled-button" data-tooltip="Imprimir el presupuesto">Imprimir
                Presupuesto</button>

            <!--Emisión-->
            <!-- <button id="contractButton" class="styled-button" data-tooltip="Emitir la póliza actual">Emitir
                Póliza</button> -->

            <!-- Salir del Cotizador -->
            <button id="printButton" class="styled-button" data-tooltip="Imprimir el presupuesto"
                onclick="window.location.href='https://localhost:44395/Home/Index';">Salir del Cotizador</button>


        </section>

        <!------------------------------------------------------------------>















        <!------------------------------------------------------------------>

    </div>


    <!-- Modal -->
    <div id="modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Resumen del Presupuesto</h2>
            <table id="modalTable" class="table">
                <thead>
                    <tr>
                        <th>Categoría</th>
                        <th>Información</th>
                    </tr>
                </thead>
                <tbody id="detailsTableBody"></tbody>
            </table>
        </div>
    </div>




    <!-- El contenido de la página -->
    <script src="../js/script.js"></script>  <!-- Ruta relativa -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</body>

</html>